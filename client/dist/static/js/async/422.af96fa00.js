"use strict";(self.webpackChunk_trustify_ui_client=self.webpackChunk_trustify_ui_client||[]).push([["422"],{87069:function(e,r,i){i.d(r,{l:()=>o});var n=i(59390),t=i(27378),l=i(15508),s=i(24416),a=i(31757);let o=e=>{var{children:r,className:i,component:o="div"}=e,d=(0,n.__rest)(e,["children","className","component"]);let{cardId:c,registerTitleId:h}=t.useContext(a.H),u=c?`${c}-title`:"";return t.useEffect(()=>(h(u),()=>h("")),[h,u]),t.createElement("div",{className:(0,l.i)(s.Z.cardTitle)},t.createElement(o,Object.assign({className:(0,l.i)(s.Z.cardTitleText,i),id:u||void 0},d),r))};o.displayName="CardTitle"},18142:function(e,r,i){i.d(r,{A0:()=>h,V4:()=>d,XE:()=>c});var n=i(56149),t=i(62835),l=i(6357),s=i(1085),a=i(12773),o=i(98271);let d={unknown:{name:"Unknown",color:n.y,progressProps:{variant:void 0}},none:{name:"None",color:t.O,progressProps:{variant:void 0}},low:{name:"Low",color:l.R,progressProps:{variant:void 0}},medium:{name:"Medium",color:s.F,progressProps:{variant:"warning"}},high:{name:"High",color:a.Q,progressProps:{variant:"danger"}},critical:{name:"Critical",color:o.G,progressProps:{variant:"danger"}}},c=e=>{switch(e){case"unknown":return 1;case"none":return 2;case"low":return 3;case"medium":return 4;case"high":return 5;case"critical":return 6;default:return 0}};function h(e){return(r,i)=>c(e(r))-c(e(i))}},86602:function(e,r,i){i.d(r,{g:()=>n});let n=e=>e??"unknown"},54774:function(e,r,i){i.d(r,{Co:()=>h,Cu:()=>d,Hb:()=>c});var n=i(70233),t=i(44072);i(23475);let l="/api",s=`${l}/v2/advisory`,a=`${l}/v2/sbom`,o=e=>{let r="application/json";return e.name.endsWith(".bz2")&&(r="application/json+bzip2"),r},d=(e,r)=>{let i=e.get(t.TB);return n.Z.post(`${s}`,i,{...r,headers:{"Content-Type":o(i)}})},c=(e,r)=>{let i=e.get(t.TB);return n.Z.post(`${a}`,i,{...r,headers:{"Content-Type":o(i)}})},h=e=>n.Z.get(`${a}/${e}/license-export`,{responseType:"arraybuffer",headers:{Accept:"text/plain",responseType:"blob"}})},35843:function(e,r,i){i.d(r,{u:()=>a});var n=i(24246),t=i(8305),l=i(13754),s=i(48336);let a=e=>e.isFetching?e.isFetchingState||(0,n.jsx)(t.b,{children:(0,n.jsx)(l.$,{})}):e.fetchError?e.fetchErrorState||(0,n.jsx)(s.y,{}):e.children},3175:function(e,r,i){i.d(r,{o:()=>d});var n=i(24246),t=i(34747),l=i(46770),s=i(2499),a=i(35676),o=i(18142);let d=e=>{let{value:r,score:i,showScore:d,showLabel:c}=e,h=o.V4[r],u=h.name;return(0,n.jsxs)(t.k,{spaceItems:{default:"spaceItemsXs"},alignItems:{default:"alignItemsCenter"},flexWrap:{default:"nowrap"},style:{whiteSpace:"nowrap"},children:[(0,n.jsx)(l.B,{children:c?(0,n.jsx)(a.ZP,{color:h.color.value}):(0,n.jsx)(s.u,{content:u,children:(0,n.jsx)(a.ZP,{color:h.color.value})})}),c&&(0,n.jsx)(l.B,{children:u}),d&&null!==i&&(0,n.jsxs)(l.B,{children:["(",Math.round(10*i)/10,")"]})]})}},42835:function(e,r,i){i.d(r,{p:()=>l});var n=i(24246),t=i(40583);let l=e=>{let{paginationProps:r,isTop:i,isCompact:l=!1,idPrefix:s=""}=e;return(0,n.jsx)(t.t,{id:`${s?`${s}-`:""}pagination-${i?"top":"bottom"}`,variant:i?t.a.top:t.a.bottom,isCompact:l,...r,widgetId:"pagination-id"})}},48336:function(e,r,i){i.d(r,{y:()=>c});var n=i(24246),t=i(96582),l=i(610),s=i(68940),a=i(16668),o=i(42160),d=i(92864);let c=()=>(0,n.jsxs)(t.u,{variant:t.I.sm,children:[(0,n.jsx)(l.k,{icon:o.ZP,color:d.a.value}),(0,n.jsx)(s.D,{headingLevel:"h2",size:"lg",children:"Unable to connect"}),(0,n.jsx)(a.B,{children:"There was an error retrieving data. Check your connection and try again."})]})},37024:function(e,r,i){i.d(r,{hp:()=>f,qK:()=>y,Cx:()=>g});var n=i(24246),t=i(8305),l=i(13754),s=i(31423),a=i(11165),o=i(94154),d=i(48336),c=i(96582),h=i(610),u=i(68940),p=i(16668),x=i(22119);let j=e=>{let{title:r,description:i}=e;return(0,n.jsxs)(c.u,{variant:c.I.sm,children:[(0,n.jsx)(h.k,{icon:x.ZP}),(0,n.jsx)(u.D,{headingLevel:"h2",size:"lg",children:r}),i&&(0,n.jsx)(p.B,{children:i})]})},m=()=>(0,n.jsx)(j,{title:"No data available",description:"No data available to be shown here."}),f=e=>{let{numRenderedColumns:r,isLoading:i=!1,isError:c=!1,isNoData:h=!1,errorEmptyState:u=null,noDataEmptyState:p=null,children:x}=e;return(0,n.jsx)(n.Fragment,{children:i?(0,n.jsx)(s.p,{children:(0,n.jsx)(a.Tr,{children:(0,n.jsx)(o.Td,{colSpan:r,children:(0,n.jsx)(t.b,{children:(0,n.jsx)(l.$,{size:"xl"})})})})}):c?(0,n.jsx)(s.p,{"aria-label":"Table error",children:(0,n.jsx)(a.Tr,{children:(0,n.jsx)(o.Td,{colSpan:r,children:(0,n.jsx)(t.b,{children:u||(0,n.jsx)(d.y,{})})})})}):h?(0,n.jsx)(s.p,{"aria-label":"Table error",children:(0,n.jsx)(a.Tr,{children:(0,n.jsx)(o.Td,{colSpan:r,children:(0,n.jsx)(t.b,{children:p||(0,n.jsx)(m,{})})})})}):x})};var b=i(67918);let y=e=>{let{numColumnsBeforeData:r,numColumnsAfterData:i,children:t}=e;return(0,n.jsxs)(n.Fragment,{children:[Array(r).fill(null).map((e,r)=>(0,n.jsx)(b.Th,{screenReaderText:`before-data-${r}`},r)),t,Array(i).fill(null).map((e,r)=>(0,n.jsx)(b.Th,{screenReaderText:`after-data-${r}`},r))]})},g=e=>{let{isExpansionEnabled:r=!1,expandableVariant:i,isSelectionEnabled:t=!1,propHelpers:{getSingleExpandButtonTdProps:l,getSelectCheckboxTdProps:s},item:a,rowIndex:d,children:c}=e;return(0,n.jsxs)(n.Fragment,{children:[r&&"single"===i?(0,n.jsx)(o.Td,{...l({item:a,rowIndex:d})}):null,t?(0,n.jsx)(o.Td,{...s({item:a,rowIndex:d})}):null,c]})}},6703:function(e,r,i){i.d(r,{j:()=>l});var n=i(24246),t=i(27378);let l=e=>{let{children:r}=e,[i,l]=t.useState(!1);return(0,n.jsx)(n.Fragment,{children:r(i,l)})}},28986:function(e,r,i){i.d(r,{G:()=>t});var n=i(24246);let t=e=>{let{vulnerability:r}=e;return(0,n.jsxs)("p",{children:[r.withdrawn&&(0,n.jsx)("em",{children:"Rejected:\xa0"}),r.title||r.description]})}},60767:function(e,r,i){i.d(r,{i:()=>o});var n=i(2926),t=i(54774),l=i(22285),s=i(54227),a=i(62126);let o=()=>({downloadAdvisory:(e,r)=>{(0,s.Em)({client:l.L,path:{key:e},responseType:"arraybuffer",headers:{Accept:"text/plain",responseType:"blob"}}).then(i=>{(0,n.saveAs)(new Blob([i.data]),r||`${e}.json`)})},downloadSBOM:(e,r)=>{(0,s.XW)({client:l.L,path:{key:e},responseType:"arraybuffer",headers:{Accept:"text/plain",responseType:"blob"}}).then(i=>{(0,n.saveAs)(new Blob([i.data]),r||`${e}.json`)})},downloadSBOMLicenses:e=>{(0,t.Co)(e).then(r=>{let i=null,t=r.headers?.["content-disposition"]?.toString();t&&(i=(0,a.lj)(t)),(0,n.saveAs)(new Blob([r.data]),i||`${e}.tar.gz`)})}})},22100:function(e,r,i){i.d(r,{V:()=>c});var n=i(27378),t=i(44072),l=i(70233);let s="cancelled",a=()=>({progress:0,status:"queued",error:void 0,response:void 0,wasCancelled:!1,cancelFn:void 0}),o=(e,r)=>{switch(r.type){case"queueUpload":return{...e,uploads:new Map(e.uploads).set(r.payload.file,{...e.uploads.get(r.payload.file)||a(),status:"queued",cancelFn:r.payload.cancelFn})};case"updateUploadProgress":return{...e,uploads:new Map(e.uploads).set(r.payload.file,{...e.uploads.get(r.payload.file)||a(),progress:r.payload.progress||0,status:"inProgress"})};case"finishUploadSuccessfully":return{...e,uploads:new Map(e.uploads).set(r.payload.file,{...e.uploads.get(r.payload.file)||a(),status:"complete",response:r.payload.response})};case"finishUploadWithError":return{...e,uploads:new Map(e.uploads).set(r.payload.file,{...e.uploads.get(r.payload.file)||a(),status:"complete",error:r.payload.error,wasCancelled:r.payload.error?.message===s})};case"removeUpload":{let i=new Map(e.uploads);return i.delete(r.payload.file),{...e,uploads:i}}default:throw Error()}},d=()=>({uploads:new Map}),c=e=>{let{parallel:r,uploadFn:i,onSuccess:a,onError:c}=e,[h,u]=n.useReducer(o,d());return{uploads:h.uploads,handleUpload:e=>{let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=new FormData;o.set(t.TB,i);let d=l.Z.CancelToken.source(),h={headers:{"X-Requested-With":"XMLHttpRequest"},onUploadProgress:e=>{let r=e.total??1;u({type:"updateUploadProgress",payload:{file:i,progress:Math.round(e.loaded/r*100)}})},cancelToken:d.token};u({type:"queueUpload",payload:{file:i,cancelFn:d}});let p={formData:o,config:h,thenFn:e=>{u({type:"finishUploadSuccessfully",payload:{file:i,response:e}}),a&&a(e,i)},catchFn:e=>{u({type:"finishUploadWithError",payload:{file:i,error:e}}),e.message!==s&&c&&c(e,i)}};n.push(p)}if(r)for(let e of n)i(e.formData,e.config).then(e.thenFn).catch(e.catchFn);else n.reduce(async(e,r)=>(await e,i(r.formData,r.config).then(r.thenFn).catch(r.catchFn)),Promise.resolve())},handleCancelUpload:e=>{h.uploads.get(e)?.cancelFn?.cancel(s)},handleRemoveUpload:e=>{u({type:"removeUpload",payload:{file:e}})}}}},39450:function(e,r,i){i.r(r),i.d(r,{default:()=>ee});var n=i(24246),t=i(27378),l=i(45043),s=i(11192),a=i(32591),o=i(34747),d=i(46770),c=i(25236),h=i(25645),u=i(6364),p=i(50201),x=i(4075),j=i(27090),m=i(75165),f=i(24787);let b=(0,i(24329).I)({name:"DownloadIcon",height:512,width:512,svgPath:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",yOffset:0,xOffset:0});var y=i(6643),g=i(35843),v=i(60767),w=i(60787),T=i(65872),F=i(87727),B=i(3498),P=i(31757),M=i(87069),S=i(51527),C=i(74481),E=i(50689),k=i(67761),I=i(81391),$=i(86602),K=i(3175),D=i(62126);let Z=e=>{let{advisory:r}=e;return(0,n.jsxs)(F.r,{hasGutter:!0,children:[(0,n.jsx)(B.P,{md:4,children:(0,n.jsxs)(P.Z,{isFullHeight:!0,children:[(0,n.jsx)(M.l,{children:"Overview"}),(0,n.jsx)(S.e,{children:(0,n.jsxs)(C.o,{children:[(0,n.jsxs)(E.g,{children:[(0,n.jsx)(k.M,{children:"Title"}),(0,n.jsx)(I.b,{children:r.title})]}),(0,n.jsxs)(E.g,{children:[(0,n.jsx)(k.M,{children:"Type"}),(0,n.jsx)(I.b,{children:r.labels.type})]}),(0,n.jsxs)(E.g,{children:[(0,n.jsx)(k.M,{children:"Aggregate Severity"}),(0,n.jsx)(I.b,{children:(0,n.jsx)(K.o,{value:(0,$.g)(r.average_severity),score:r.average_score,showLabel:!0,showScore:!0})})]}),(0,n.jsxs)(E.g,{children:[(0,n.jsx)(k.M,{children:"Size"}),(0,n.jsx)(I.b,{children:(0,T.Z)(r.size)})]})]})})]})}),(0,n.jsx)(B.P,{md:4,children:(0,n.jsxs)(P.Z,{isFullHeight:!0,children:[(0,n.jsx)(M.l,{children:"Publisher"}),(0,n.jsx)(S.e,{children:(0,n.jsxs)(C.o,{children:[(0,n.jsxs)(E.g,{children:[(0,n.jsx)(k.M,{children:"Name"}),(0,n.jsx)(I.b,{children:r.issuer?.name})]}),(0,n.jsxs)(E.g,{children:[(0,n.jsx)(k.M,{children:"Contact details"}),(0,n.jsx)(I.b,{children:r.issuer?.website})]})]})})]})}),(0,n.jsx)(B.P,{md:4,children:(0,n.jsxs)(P.Z,{isFullHeight:!0,children:[(0,n.jsx)(M.l,{children:"Tracking"}),(0,n.jsx)(S.e,{children:(0,n.jsxs)(C.o,{children:[(0,n.jsxs)(E.g,{children:[(0,n.jsx)(k.M,{children:"ID"}),(0,n.jsx)(I.b,{children:r.identifier})]}),(0,n.jsxs)(E.g,{children:[(0,n.jsx)(k.M,{children:"Initial release date"}),(0,n.jsx)(I.b,{children:(0,D.p6)(r.published)})]}),(0,n.jsxs)(E.g,{children:[(0,n.jsx)(k.M,{children:"Current release date"}),(0,n.jsx)(I.b,{children:(0,D.p6)(r.modified)})]})]})})]})})]})};var A=i(65783),L=i(27308),N=i(40982),U=i(27763),R=i(4835),q=i(14350),z=i(11165),O=i(67918),_=i(31423),H=i(94154),V=i(9905),G=i(42835),W=i(37024),X=i(6703),Y=i(28986),J=i(94426);let Q=e=>{let{isFetching:r,fetchError:i,vulnerabilities:t}=e,l=(0,J.sz)({tableName:"vulnerability-table",idProperty:"identifier",items:t,isLoading:r,columnNames:{identifier:"ID",title:"Title",discovery:"Discovery",release:"Release",score:"Score",cwe:"CWE"},hasActionsColumn:!1,isSortEnabled:!0,sortableColumns:[],getSortValues:e=>({}),isPaginationEnabled:!0,isFilterEnabled:!1,filterCategories:[],isExpansionEnabled:!1}),{currentPageItems:s,numRenderedColumns:a,propHelpers:{toolbarProps:o,paginationToolbarItemProps:d,paginationProps:c,tableProps:h,getThProps:u,getTrProps:p,getTdProps:x},expansionDerivedState:{isCellExpanded:j}}=l;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(L.o,{...o,children:(0,n.jsx)(N.c,{children:(0,n.jsx)(U.E,{...d,children:(0,n.jsx)(G.p,{idPrefix:"vulnerability-table",isTop:!0,paginationProps:c})})})}),(0,n.jsxs)(R.i,{...h,"aria-label":"vulnerability table",children:[(0,n.jsx)(q.h,{children:(0,n.jsx)(z.Tr,{children:(0,n.jsxs)(W.qK,{...l,children:[(0,n.jsx)(O.Th,{...u({columnKey:"identifier"})}),(0,n.jsx)(O.Th,{...u({columnKey:"title"})}),(0,n.jsx)(O.Th,{...u({columnKey:"discovery"})}),(0,n.jsx)(O.Th,{...u({columnKey:"release"})}),(0,n.jsx)(O.Th,{...u({columnKey:"score"})}),(0,n.jsx)(O.Th,{...u({columnKey:"cwe"})})]})})}),(0,n.jsx)(W.hp,{isLoading:r,isError:!!i,isNoData:0===t.length,numRenderedColumns:a,children:s?.map((e,r)=>n.jsx(_.p,{isExpanded:j(e),children:n.jsx(z.Tr,{...p({item:e}),children:n.jsxs(W.Cx,{...l,item:e,rowIndex:r,children:[n.jsx(H.Td,{width:15,modifier:"breakWord",...x({columnKey:"identifier"}),children:n.jsx(A.rU,{to:`/vulnerabilities/${e.identifier}`,children:e.identifier})}),n.jsx(X.j,{children:(r,i)=>n.jsx(H.Td,{width:40,modifier:"truncate",onFocus:()=>i(!0),onBlur:()=>i(!1),tabIndex:0,...x({columnKey:"title"}),children:n.jsx(V.cE,{focused:r,wrapModifier:"truncate",children:n.jsx(Y.G,{vulnerability:e})})})}),n.jsx(H.Td,{width:15,...x({columnKey:"discovery"}),children:D.p6(e.discovered)}),n.jsx(H.Td,{width:10,modifier:"truncate",...x({columnKey:"release"}),children:D.p6(e.released)}),n.jsx(H.Td,{width:10,modifier:"truncate",...x({columnKey:"score"}),children:e.severity&&n.jsx(K.o,{value:e.severity,score:e.score,showLabel:!0,showScore:!0})}),n.jsx(H.Td,{width:10,modifier:"truncate",...x({columnKey:"cwe"}),children:e.cwes.join(", ")})]})})},e.identifier))})]}),(0,n.jsx)(G.p,{idPrefix:"vulnerability-table",isTop:!1,paginationProps:c})]})},ee=()=>{let[e,r]=t.useState(0),i=t.createRef(),T=t.createRef(),F=(0,y.ZX)(y.Uo.ADVISORY_ID),{advisory:B,isFetching:P,fetchError:M}=(0,w.gw)(F),{downloadAdvisory:S}=(0,v.i)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.NP,{variant:"light",children:(0,n.jsxs)(s.P,{children:[(0,n.jsx)(a.J,{isFilled:!0,children:(0,n.jsxs)(o.k,{children:[(0,n.jsx)(d.B,{spacer:{default:"spacerSm"},children:(0,n.jsxs)(c.D,{children:[(0,n.jsx)(h.x,{component:"h1",children:B?.document_id??F??""}),(0,n.jsx)(h.x,{component:"p",children:"Advisory detail information"})]})}),(0,n.jsx)(d.B,{children:B?.labels.type&&(0,n.jsx)(u._,{color:"blue",children:B?.labels.type})})]})}),(0,n.jsx)(a.J,{children:!P&&(0,n.jsx)(p.zx,{variant:"secondary",icon:(0,n.jsx)(b,{}),onClick:()=>{F&&S(F,B?.identifier?`${B?.identifier}.json`:`${F}.json`)},children:"Download"})})]})}),(0,n.jsx)(l.NP,{type:"nav",children:(0,n.jsxs)(x.m,{mountOnEnter:!0,activeKey:e,onSelect:(e,i)=>{r(i)},"aria-label":"Tabs that contain the SBOM information",role:"region",children:[(0,n.jsx)(j.O,{eventKey:0,title:(0,n.jsx)(m.T,{children:"Info"}),tabContentId:"refTabInfoSection",tabContentRef:i}),(0,n.jsx)(j.O,{eventKey:1,title:(0,n.jsx)(m.T,{children:"Vulnerabilities"}),tabContentId:"refVulnerabilitiesSection",tabContentRef:T})]})}),(0,n.jsxs)(l.NP,{children:[(0,n.jsx)(f.I,{eventKey:0,id:"refTabInfoSection",ref:i,"aria-label":"Information of the Advisory",children:(0,n.jsx)(g.u,{isFetching:P,fetchError:M,children:B&&(0,n.jsx)(Z,{advisory:B})})}),(0,n.jsx)(f.I,{eventKey:1,id:"refVulnerabilitiesSection",ref:T,"aria-label":"Vulnerabilities within the SBOM",hidden:!0,children:(0,n.jsx)(Q,{isFetching:P,fetchError:M,vulnerabilities:B?.vulnerabilities||[]})})]})]})}},60787:function(e,r,i){i.d(r,{N7:()=>h,gw:()=>u,tG:()=>p});var n=i(1183),t=i(68e3),l=i(22285),s=i(54227),a=i(54774),o=i(94426),d=i(22100);let c="advisories",h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{data:i,isLoading:t,error:a,refetch:d}=(0,n.a)({queryKey:[c,e],queryFn:()=>(0,s.A1)({client:l.L,query:{...(0,o.rm)(e)}}),enabled:!r});return{result:{data:i?.data?.items||[],total:i?.data?.total??0,params:e??e},isFetching:t,fetchError:a||null,refetch:d}},u=e=>{let{data:r,isLoading:i,error:t}=(0,n.a)({queryKey:[c,e],queryFn:()=>(0,s.pB)({client:l.L,path:{key:e}}),enabled:void 0!==e});return{advisory:r?.data,isFetching:i,fetchError:t}},p=()=>{let e=(0,t.NL)();return(0,d.V)({parallel:!0,uploadFn:(e,r)=>(0,a.Cu)(e,r),onSuccess:()=>{e.invalidateQueries({queryKey:[c]})}})}},65872:function(e,r,i){i.d(r,{Z:()=>o});let n=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],t=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],l=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],s=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],a=(e,r,i)=>{let n=e;return"string"==typeof r||Array.isArray(r)?n=e.toLocaleString(r,i):(!0===r||void 0!==i)&&(n=e.toLocaleString(void 0,i)),n};function o(e,r){let i;if(!Number.isFinite(e))throw TypeError(`Expected a finite number, got ${typeof e}: ${e}`);let o=(r={bits:!1,binary:!1,space:!0,...r}).bits?r.binary?s:l:r.binary?t:n,d=r.space?" ":"";if(r.signed&&0===e)return` 0${d}${o[0]}`;let c=e<0,h=c?"-":r.signed?"+":"";if(c&&(e=-e),void 0!==r.minimumFractionDigits&&(i={minimumFractionDigits:r.minimumFractionDigits}),void 0!==r.maximumFractionDigits&&(i={maximumFractionDigits:r.maximumFractionDigits,...i}),e<1)return h+a(e,r.locale,i)+d+o[0];let u=Math.min(Math.floor(r.binary?Math.log(e)/Math.log(1024):Math.log10(e)/3),o.length-1);return e/=(r.binary?1024:1e3)**u,i||(e=e.toPrecision(3)),h+a(Number(e),r.locale,i)+d+o[u]}}}]);
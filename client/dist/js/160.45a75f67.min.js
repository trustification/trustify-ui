"use strict";(self.webpackChunk_trustify_ui_client=self.webpackChunk_trustify_ui_client||[]).push([[160],{17327:(e,t,a)=>{a.d(t,{E:()=>n,Z:()=>d});var l=a(34629),r=a(63696),i=a(53141),s=a(62634),c=a(1850);const n=r.createContext({cardId:"",registerTitleId:()=>{},isExpanded:!1,isClickable:!1,isSelectable:!1,isSelected:!1,isClicked:!1,isDisabled:!1}),d=e=>{var{children:t,id:a="",className:o,component:m="div",isCompact:p=!1,isSelectable:u=!1,isClickable:b=!1,isDisabled:f=!1,isSelectableRaised:h=!1,isSelected:E=!1,isClicked:v=!1,isDisabledRaised:g=!1,isFlat:_=!1,isExpanded:A=!1,isRounded:y=!1,isLarge:I=!1,isFullHeight:k=!1,isPlain:S=!1,ouiaId:C,ouiaSafe:T=!0,hasSelectableInput:N=!1,selectableInputAriaLabel:F,onSelectableInputChange:P=(()=>{})}=e,x=(0,l.__rest)(e,["children","id","className","component","isCompact","isSelectable","isClickable","isDisabled","isSelectableRaised","isSelected","isClicked","isDisabledRaised","isFlat","isExpanded","isRounded","isLarge","isFullHeight","isPlain","ouiaId","ouiaSafe","hasSelectableInput","selectableInputAriaLabel","onSelectableInputChange"]);const R=m,L=(0,c.iK)(d.displayName,C,T),[w,K]=r.useState(""),[O,D]=r.useState();p&&I&&(console.warn("Card: Cannot use isCompact with isLarge. Defaulting to isCompact"),I=!1);const V=r.useRef(!1);return r.useEffect((()=>{F?D({"aria-label":F}):w?D({"aria-labelledby":w}):N&&!V.current&&(D({}),console.warn("If no CardTitle component is passed as a child of Card the selectableInputAriaLabel prop must be passed"))}),[N,F,w]),r.createElement(n.Provider,{value:{cardId:a,registerTitleId:e=>{K(e),V.current=!!e},isExpanded:A,isClickable:b,isSelectable:u,isSelected:E,isClicked:v,isDisabled:f,hasSelectableInput:N}},N&&r.createElement("input",Object.assign({className:"pf-v5-screen-reader",id:`${a}-input`},O,{type:"checkbox",checked:E,onChange:e=>P(e,a),disabled:g,tabIndex:-1})),r.createElement(R,Object.assign({id:a,className:(0,s.A)(i.A.card,p&&i.A.modifiers.compact,A&&i.A.modifiers.expanded,_&&i.A.modifiers.flat,y&&i.A.modifiers.rounded,I&&i.A.modifiers.displayLg,k&&i.A.modifiers.fullHeight,S&&i.A.modifiers.plain,g?(0,s.A)(i.A.modifiers.nonSelectableRaised):h?(0,s.A)(i.A.modifiers.selectableRaised,E&&i.A.modifiers.selectedRaised):u&&b?(0,s.A)(i.A.modifiers.selectable,i.A.modifiers.clickable,(E||v)&&i.A.modifiers.current):u?(0,s.A)(i.A.modifiers.selectable,E&&i.A.modifiers.selected):b?(0,s.A)(i.A.modifiers.clickable,v&&i.A.modifiers.current):"",f&&i.A.modifiers.disabled,o),tabIndex:h?"0":void 0},x,L),t))};d.displayName="Card"},71603:(e,t,a)=>{a.d(t,{b:()=>c});var l=a(34629),r=a(63696),i=a(53141),s=a(62634);const c=e=>{var{children:t,className:a,component:c="div",isFilled:n=!0}=e,d=(0,l.__rest)(e,["children","className","component","isFilled"]);const o=c;return r.createElement(o,Object.assign({className:(0,s.A)(i.A.cardBody,!n&&i.A.modifiers.noFill,a)},d),t)};c.displayName="CardBody"},64361:(e,t,a)=>{a.d(t,{Z:()=>n});var l=a(34629),r=a(63696),i=a(62634),s=a(53141),c=a(17327);const n=e=>{var{children:t,className:a,component:n="div"}=e,d=(0,l.__rest)(e,["children","className","component"]);const{cardId:o,registerTitleId:m}=r.useContext(c.E),p=n,u=o?`${o}-title`:"";return r.useEffect((()=>(m(u),()=>m(""))),[m,u]),r.createElement("div",{className:(0,i.A)(s.A.cardTitle)},r.createElement(p,Object.assign({className:(0,i.A)(s.A.cardTitleText,a),id:u||void 0},d),t))};n.displayName="CardTitle"},38914:(e,t,a)=>{a.d(t,{B:()=>c});var l=a(34629),r=a(63696),i=a(49815),s=a(62634);const c=e=>{var{hasGutter:t=!1,className:a="",children:c=null,component:n="div"}=e,d=(0,l.__rest)(e,["hasGutter","className","children","component"]);const o=n;return r.createElement(o,Object.assign({},d,{className:(0,s.A)(i.A.stack,t&&i.A.modifiers.gutter,a)}),c)};c.displayName="Stack"},57901:(e,t,a)=>{a.d(t,{a:()=>c});var l=a(34629),r=a(63696),i=a(49815),s=a(62634);const c=e=>{var{isFilled:t=!1,className:a="",children:c=null}=e,n=(0,l.__rest)(e,["isFilled","className","children"]);return r.createElement("div",Object.assign({},n,{className:(0,s.A)(i.A.stackItem,t&&i.A.modifiers.fill,a)}),c)};c.displayName="StackItem"},67837:(e,t,a)=>{a.d(t,{g:()=>c});var l=a(63696),r=a(23546),i=a(891),s=a(71743);const c=({value:e,defaultIsOpen:t})=>l.createElement(r.o,{isVertical:!0,defaultIsOpen:t,numLabels:2},Object.entries(e).sort((([e],[t])=>t.localeCompare(e))).map((([e,t],a)=>l.createElement(i.J,{key:a,color:"blue"},l.createElement(s.P,{content:`${e}=${t}`})))))},24417:(e,t,a)=>{a.d(t,{a:()=>c});var l=a(63696),r=a(59394),i=a(23338),s=a(75855);const c=e=>e.isFetching?l.createElement(r.a,null,l.createElement(i.y,null)):e.fetchError?l.createElement(s.q,null):e.children},89548:(e,t,a)=>{a.r(t),a.d(t,{default:()=>q});var l=a(63696),r=a(49348),i=a(2620),s=a(68430),c=a(98261),n=a(75530),d=a(80876),o=a(24417),m=a(4628),p=a(38914),u=a(57901),b=a(76072),f=a(97299),h=a(17327),E=a(64361),v=a(71603),g=a(65753),_=a(24974),A=a(21639),y=a(3939);const I=({product:e})=>l.createElement(l.Fragment,null,l.createElement(p.B,{hasGutter:!0},l.createElement(u.a,null,l.createElement(b.x,{hasGutter:!0},l.createElement(f.E,{md:4},l.createElement(h.Z,{isFullHeight:!0},l.createElement(E.Z,null,"Vendor"),l.createElement(v.b,null,l.createElement(g.B,null,l.createElement(_.W,null,l.createElement(A.X,null,"Name"),l.createElement(y.d,null,e.vendor?.name)),l.createElement(_.W,null,l.createElement(A.X,null,"Website"),l.createElement(y.d,null,e.vendor?.website))))))))));var k=a(95285),S=a.n(k),C=a(20653),T=a(35048),N=a(4433),F=a(85578),P=a(16646),x=a(31065),R=a(77819),L=a(28516),w=a(3629),K=a(81230),O=a(33273),D=a(67837),V=a(1349),H=a(62520),B=a(70611),j=a(34066);const M=({product:e})=>{const[t,a]=l.useState([]),[i,s]=l.useState(new Map),[c,n]=l.useState(!1);l.useEffect((()=>{const t=(e?.versions??[]).flatMap((e=>({sbomId:e.sbom_id,sbomVersion:e.version})));a(t),n(!0),Promise.all(t.map((e=>(0,K.Q6)(e.sbomId))).map((e=>e.catch((()=>null))))).then((e=>{const t=e.reduce(((e,t)=>t?[...e,t]:e),[]),a=new Map;t.forEach((e=>a.set(e.id,e))),s(a),n(!1)}))}),[e]);const d=l.useMemo((()=>t.map((e=>({...e,sbom:i.get(e.sbomId)})))),[t,i]),o=(0,B.vY)({tableName:"version-table",idProperty:"sbomId",items:d,isLoading:!1,columnNames:{name:"Name",published:"Published",labels:"Labels",version:"Version"},isSortEnabled:!0,sortableColumns:["published"],getSortValues:e=>({published:e.sbom?.published?S()(e.sbom.published).valueOf():0}),isPaginationEnabled:!0,isFilterEnabled:!0,filterCategories:[{categoryKey:"filterText",title:"Filter tex",type:O.RJ.search,placeholderText:"Search...",getItemValue:e=>e.sbomVersion}],isExpansionEnabled:!1}),{currentPageItems:m,numRenderedColumns:p,propHelpers:{toolbarProps:u,filterToolbarProps:b,paginationToolbarItemProps:f,paginationProps:h,tableProps:E,getThProps:v,getTrProps:g,getTdProps:_}}=o;return l.createElement(l.Fragment,null,l.createElement(C.M,{...u},l.createElement(T.P,null,l.createElement(O.Us,{showFiltersSideBySide:!0,...b}),l.createElement(N.T,{...f},l.createElement(V.n,{idPrefix:"version-table",isTop:!0,paginationProps:h})))),l.createElement(F.X,{...E,"aria-label":"Version table",className:"vertical-middle-aligned-table"},l.createElement(P.d,null,l.createElement(x.Tr,null,l.createElement(H.Ze,{...o},l.createElement(R.Th,{...v({columnKey:"name"})}),l.createElement(R.Th,{...v({columnKey:"published"})}),l.createElement(R.Th,{...v({columnKey:"labels"})}),l.createElement(R.Th,{...v({columnKey:"version"})})))),l.createElement(H.nJ,{isLoading:c,isError:void 0,isNoData:0===d.length,numRenderedColumns:p},m?.map(((e,t)=>l.createElement(L.N,{key:e.sbomId},l.createElement(x.Tr,{...g({item:e})},l.createElement(w.Td,{width:15,modifier:"truncate",..._({columnKey:"name"})},l.createElement(r.k2,{to:`/sboms/${e.sbomId}`},e.sbom?.name)),l.createElement(w.Td,{width:10,modifier:"truncate",..._({columnKey:"published"})},(0,j.Yq)(e.sbom?.published)),l.createElement(w.Td,{width:10,modifier:"truncate",..._({columnKey:"labels"})},e.sbom?.labels&&l.createElement(D.g,{value:e.sbom?.labels})),l.createElement(w.Td,{width:10,modifier:"truncate",..._({columnKey:"version"})},e.sbomVersion))))))),l.createElement(V.n,{idPrefix:"version-table",isTop:!1,isCompact:!0,paginationProps:h}))},q=()=>{const e=(0,d.Lu)(d.vO.PRODUCT_ID),{product:t,isFetching:a,fetchError:p}=(0,m.Vh)(e);return l.createElement(l.Fragment,null,l.createElement(s.d8,{variant:"light"},l.createElement(i.A,{breadcrumbs:l.createElement(c.Q,null,l.createElement(n.J,{key:"advisories"},l.createElement(r.N_,{to:"/advisories"},"Products")),l.createElement(n.J,{isActive:!0},"Product details")),actionButtons:[],pageHeading:{title:t?.name??""},tabs:[{eventKey:"versions",title:"Versions",children:l.createElement("div",{className:"pf-v5-u-m-md"},l.createElement(o.a,{isFetching:a,fetchError:p},t&&l.createElement(M,{product:t})))},{eventKey:"overview",title:"Overview",children:l.createElement("div",{className:"pf-v5-u-m-md"},l.createElement(o.a,{isFetching:a,fetchError:p},t&&l.createElement(I,{product:t})))}]})))}},4628:(e,t,a)=>{a.d(t,{M3:()=>d,Vh:()=>o,lY:()=>m});var l=a(7616),r=a(26667),i=a(81230),s=a(40752),c=a(77347);const n="products",d=(e={},t=!1)=>{const{data:a,isLoading:r,error:s,refetch:c}=(0,l.I)({queryKey:[n,e],queryFn:()=>(0,i.d$)(e),refetchInterval:!t&&5e3});return{result:{data:a?.data||[],total:a?.total??0,params:a?.params??e},isFetching:r,fetchError:s,refetch:c}},o=e=>{const{data:t,isLoading:a,error:r}=(0,l.I)({queryKey:[n,e],queryFn:()=>(0,i.y9)(e),enabled:void 0!==e});return{product:t,isFetching:a,fetchError:r}},m=(e,t)=>(0,r.n)({mutationFn:async e=>(await(0,s.DD)({client:c.S,path:{id:e}})).data,mutationKey:[n],onSuccess:t,onError:e})},53141:(e,t,a)=>{a.d(t,{A:()=>l});const l={card:"pf-v5-c-card",cardActions:"pf-v5-c-card__actions",cardBody:"pf-v5-c-card__body",cardExpandableContent:"pf-v5-c-card__expandable-content",cardFooter:"pf-v5-c-card__footer",cardHeader:"pf-v5-c-card__header",cardHeaderMain:"pf-v5-c-card__header-main",cardHeaderToggle:"pf-v5-c-card__header-toggle",cardHeaderToggleIcon:"pf-v5-c-card__header-toggle-icon",cardSelectableActions:"pf-v5-c-card__selectable-actions",cardSrInput:"pf-v5-c-card__sr-input",cardTitle:"pf-v5-c-card__title",cardTitleText:"pf-v5-c-card__title-text",check:"pf-v5-c-check",checkInput:"pf-v5-c-check__input",checkLabel:"pf-v5-c-check__label",dirRtl:"pf-v5-m-dir-rtl",divider:"pf-v5-c-divider",modifiers:{selectable:"pf-m-selectable",clickable:"pf-m-clickable",selected:"pf-m-selected",current:"pf-m-current",disabled:"pf-m-disabled",hoverableRaised:"pf-m-hoverable-raised",selectableRaised:"pf-m-selectable-raised",nonSelectableRaised:"pf-m-non-selectable-raised",selectedRaised:"pf-m-selected-raised",compact:"pf-m-compact",displayLg:"pf-m-display-lg",flat:"pf-m-flat",plain:"pf-m-plain",rounded:"pf-m-rounded",expanded:"pf-m-expanded",fullHeight:"pf-m-full-height",toggleRight:"pf-m-toggle-right",noOffset:"pf-m-no-offset",noFill:"pf-m-no-fill"},radio:"pf-v5-c-radio",radioInput:"pf-v5-c-radio__input",radioLabel:"pf-v5-c-radio__label",themeDark:"pf-v5-theme-dark"}},49815:(e,t,a)=>{a.d(t,{A:()=>l});const l={modifiers:{fill:"pf-m-fill",gutter:"pf-m-gutter"},stack:"pf-v5-l-stack",stackItem:"pf-v5-l-stack__item"}}}]);
//# sourceMappingURL=160.45a75f67.min.js.map